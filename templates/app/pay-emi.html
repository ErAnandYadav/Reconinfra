{% extends 'app/admin-base.html' %}
{% block body %}
{% load my_filter %}

<!--begin::Content-->
<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
    <!--begin::Post-->
    <div class="post d-flex flex-column-fluid" id="kt_post">
        <!--begin::Container-->
        <div id="kt_content_container" class="container-xxl">
            <div class="page-header mb-4">
				<div class="page-block">
					<div class="row align-items-center">
						<div class="col-md-12">
							<div class="page-header-title">
								<h5 class="m-b-10">Dashboard</h5>
							</div>
							<ul class="breadcrumb">
								<li class="breadcrumb-item">
									<a href="/app/" class="p-1">
										<i class="fas fa-home"></i>
									</a>
								</li>
								<li class="breadcrumb-item">
									<a href="#!">Pay Now</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
           
            <div class="card">
                {% for message in messages %}
                <!--begin::Alert-->
                <div class="alert alert-dismissible {{message.tags}} d-flex flex-column flex-sm-row p-5 mb-10">
                    <div class="d-flex flex-column text-light pt-3">
                        <strong>Message! {{message}}</strong>
                        <!--end::Content-->
                    </div>
                    <button type="button"
                        class="position-absolute position-sm-relative m-2 m-sm-0 top-0 end-0 btn btn-icon ms-sm-auto"
                        data-bs-dismiss="alert">
                        <span class="svg-icon svg-icon-2x svg-icon-light">
                            <span class="svg-icon svg-icon-2x svg-icon-light">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1"
                                        transform="rotate(-45 6 17.3137)" fill="currentColor"></rect>
                                    <rect x="7.41422" y="6" width="16" height="2" rx="1"
                                        transform="rotate(45 7.41422 6)" fill="currentColor"></rect>
                                </svg>
                            </span>
                        </span>
                    </button>
                    <!--end::Close-->
                </div>
                <!--end::Alert-->

                {% endfor %}
                <!--begin::Body-->
                <div class="card-header">
                    <h2 class="text-center pt-3"> Pay Now</h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <!--begin::Layout-->
                        <div class="col-lg-8 mx-auto">
                            <div class="d-flex flex-column flex-lg-row mb-17">
                                <!--begin::Content-->
                                <div class="flex-lg-row-fluid me-0 me-lg-20">
                                    <!--begin::Form-->
                                    <form action="" class="form mb-15" method="post" novalidate>
                                        {% csrf_token %}
                                        <!--begin::Input group-->
                                        <div class="row mb-5">
                                 
                                            <div class="d-flex flex-column mb-5 fv-row">
                                                <!--begin::Label-->
                                                <label class="d-flex align-items-center  fw-semibold mb-2">
                                                    <span class="required">Booking ID</span>
                                                </label>
                                                {{form.booking_id|addclass:'form-control form-control-solid'|addid:'booking_id'}}
                                                {{form.booking_id.errors}}
                                            </div>
                                            <!--begin::Col-->
                                            
                                            <div class="d-flex flex-column mb-5 fv-row">
                                                <!--end::Label-->
                                                <label class="required  fw-semibold mb-2">Payment Method</label>
                                                <!--end::Label-->
                                                <!--end::Input-->
                                                {{form.payment_method|addclass:'form-control form-control-solid'|addid:'payment_method'}}
                                                {{form.payment_method.errors}}
                                            </div>
                                            <div class="d-flex flex-column mb-5 fv-row" id="number_div">
                                                <!--end::Label-->
                                                <label class="  fw-semibold mb-2" id="number_label">Number</label>
                                                <!--end::Label-->
                                                <!--end::Input-->
                                                {{form.number|addclass:'form-control form-control-solid'|addplaceholder:'Number'|addid:'number'}}
                                                {{form.number.errors}}

                                            </div>
                                            <div class="d-flex flex-column mb-5 fv-row">
                                                <!--end::Label-->
                                                <label class="required  fw-semibold mb-2">Amount</label>
                                                <!--end::Label-->
                                                <!--end::Input-->
                                                {{form.amount|addclass:'form-control form-control-solid'|addplaceholder:'Amount'|addid:'amount'}}
                                                {{form.amount.errors}}

                                            </div>

                                            <div class="d-flex flex-column mb-5 fv-row">
                                                
                                                <label class="required  fw-semibold mb-2" id="payment_date_label">Payment Date</label>
                                                
                                                {{form.payment_date|addclass:'form-control form-control-solid'|addplaceholder:'Select Payment Date'|addid:'payment_date'}}
                                            </div>
                                            <div class="d-flex flex-column mb-5 fv-row">
                                                <div class="form-check form-check-custom form-check-success form-check-solid">
                                                    {{form.is_paid|addclass:'form-check-input'|addid:'is_paid'}}
                                                   
                                                    <label class="form-check-label" for="">
                                                       Is Paid
                                                    </label>
                                                </div>
                                                
                                                
                                            </div>
                                            {% comment %} <div class="d-flex flex-column mb-5 fv-row">
                                                <label class="required  fw-semibold mb-2" >Status</label>
                                                <select name="status" class="form-control form-control-solid" id="status">
                                                    <option value="Saved" selected>Saved</option>
                                                  
                                                    <option value="Approved">Approved</option>
                                                  
                                                    <option value="Disapproved">Disapproved</option>
                                                  
                                                  </select>
                                            </div> {% endcomment %}
                                            
                                            
                                        </div>
                                        <hr>
                                        <div class="row justify-content-between">
                                            
                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 mx-auto text-right">
                                                <button type="submit" class="btn  btn-primary mr-0 btn-block">
                                                    <i class="fas fa-save"></i>Update
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                    <!--end::Form-->
                                </div>
                                <!--end::Content-->
                            </div>
                        </div>
                        <!--end::Layout-->
                    </div>

                </div>
                <!--end::Body-->
            </div>
            <!--end::Careers - Apply-->
        </div>
        <!--end::Container-->
    </div>
    <!--end::Post-->
</div>
<!--end::Content-->
{% block js%}
<script>
    $(document).ready(function() {
        document.getElementById('booking_id').readOnly = true;
        document.getElementById('amount').readOnly = true;
        $("#status").select2({
           
        });
        $("#booking").select2({
            placeholder: "Select Booking ID"
        });
        $("#payment_method").select2({
            placeholder: "Payment Method"
        });
        $("#emi_period").select2({
            placeholder: "EMI Period"
        });
        $("#payment_date").flatpickr();
        
        // On Change Append Input Box
        $('#payment_method').on('change', function () {
            var payment_method = $(this).val();
            console.log(payment_method)
            const showNumberDiv = payment_method === 'Cheque' || payment_method === 'DD' || payment_method === 'NEFT/IMPS/RTGS';
            $('#number_div').toggleClass('d-none', !showNumberDiv);
        });
    });
   
    
</script>
{% endblock %}
{% endblock %}